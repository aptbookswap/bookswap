{% extends 'base.html' %}
{% load static %}

{% block title %}Mis Publicaciones | BookSwap{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/libros.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% endblock %}

{% block content %}
<div class="container my-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0">Mis Publicaciones</h2>
    <a href="{% url 'libros' %}" class="btn btn-outline-primary">Crear nueva publicaci√≥n</a>
  </div>

  <!-- Tabs -->
  <ul class="nav nav-tabs mb-4" id="publicacionTabs" role="tablist">
    <li class="nav-item"><button class="nav-link " data-bs-toggle="tab" data-bs-target="#borradores">Borradores</button></li>
    <li class="nav-item"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#disponibles">Disponibles</button></li>
    <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#enEspera">En espera</button></li>
    <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#enProceso">En proceso</button></li>
    <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#canceladas">Canceladas</button></li>
    <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#completadas">Completadas</button></li>
  </ul>

  <div class="tab-content">

    <div class="tab-pane fade" id="borradores">
      <div class="row">
        {% for publicacion in borradores %}
        {% include "vistas/partials/card_publicacion.html" %}
        {% empty %}
        <p class="text-center">No hay Borradores de publicaciones.</p>
        {% endfor %}
      </div>
    </div>

    <!-- Disponibles -->
    <div class="tab-pane fade show active" id="disponibles">
      <div class="row">
        {% for publicacion in disponibles %}
        {% include "vistas/partials/card_publicacion.html" %}
        {% empty %}
        <p class="text-center">No hay publicaciones disponibles.</p>
        {% endfor %}
      </div>
    </div>

    <!-- En espera -->
    <div class="tab-pane fade" id="enEspera">
      <div class="row">
        {% for publicacion in en_espera %}
        {% include "vistas/partials/card_publicacion.html" %}
        {% empty %}
        <p class="text-center">No hay publicaciones en espera.</p>
        {% endfor %}
      </div>
    </div>

    <!-- En proceso -->
    <div class="tab-pane fade" id="enProceso">
      <div class="row">
        {% for publicacion in en_proceso %}
        {% include "vistas/partials/card_publicacion.html" %}
        {% empty %}
        <p class="text-center">No hay publicaciones en proceso.</p>
        {% endfor %}
      </div>
    </div>

    <!-- Canceladas -->
    <div class="tab-pane fade" id="canceladas">
      <div class="row">
        {% for publicacion in canceladas %}
        {% include "vistas/partials/card_publicacion.html" %}
        {% empty %}
        <p class="text-center">No hay publicaciones canceladas.</p>
        {% endfor %}
      </div>
    </div>

    <!-- Completadas -->
    <div class="tab-pane fade" id="completadas">
      <div class="row">
        {% for publicacion in completadas %}
        {% include "vistas/partials/card_publicacion.html" %}
        {% empty %}
        <p class="text-center">No hay publicaciones completadas.</p>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'js/publicaciones.js' %}"></script>
{% endblock %}
